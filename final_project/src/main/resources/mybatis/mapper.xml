<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.KG.mybatis.myMapper">
	<!-- 아이디 중복 검사 -->
	<select id="chk_id" resultType="String">
		SELECT m_id FROM member WHERE m_id=#{m_id}
	</select>
	<!-- 이메일 중복 검사 -->
	<select id="chkEmail" resultType="String">
		SELECT m_email FROM member WHERE m_email=#{email}
	</select>
	<!-- 닉네임 중복 검사 -->
	<select id="chkNick" resultType="String">
		SELECT m_nick FROM member WHERE m_nick=#{nick}
	</select>
	<select id="loginck" resultType="memberDTO">
		select * from member where m_id = #{m_id}
	</select>
	<select id="findId" resultType="memberDTO">
		select * from member where m_name = #{m_name} and m_email = #{m_email}
	</select>
	<select id="findPw" resultType="memberDTO">
		select * from member where m_id = #{m_id} and m_name = #{m_name} and m_email = #{m_email}
	</select>
	<update id="findPw_change" parameterType="memberDTO">
		update member set m_pw = #{m_pw} where m_id = #{m_id} and m_name = #{m_name} and m_email = #{m_email}
	</update>
	<!-- 회원 가입  -->
	<insert id="addMember" parameterType="memberDTO">
		INSERT INTO member values(#{m_id} , #{m_pw} , #{m_name} , #{m_nick} , #{m_birth} , #{m_email} , '3_일반회원')
	</insert>
	
</mapper>